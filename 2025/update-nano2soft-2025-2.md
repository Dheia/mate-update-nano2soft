#Update 2025-2 

**تحديثات شهر اثنين **

## 2025-02-01 إلى 2025-02-02
**Support for Dealing with Entity Accounts in Both Creditor and Debtor Notices**

دعم التعامل مع حسابات الجهات في كلا من إشعارات الدائن والمدين والتحويل بين الحسابات. وتم عمل آلية للتحكم بتفعيل أو إيقاف التعامل مع حسابات الجهات في مختلف واجهات الحسابات. وتم تحديث أجزاء أخرى في الوحدة البرمجية الخاصة بالحسابات المالية متعلقة بالكود وتحسين الأداء.

للتعامل مع حسابات الجهات في النظام يجب أن تكون الإعدادات التالية مفعلة علماً أن القيمة الافتراضية لهذا الخيار هي عدم التفعيل:

```plaintext
# تفعيل خاصية التعامل مع حسابات الجهات في نظام الحسابات 
TSS_ACCOUNTS_IS_SUPPORT_PERSON = true
```

للتوضيح أكثر يرجى مشاهدة الفيديو والصور.

---

## 2025-02-03 - 2025-02-04
**Support Config `per_page` and Correct `orders/orders/delivery` Routes**

تحديثات متنوعة في الوحدة البرمجية الخاصة بإدارة الطلبات في جزء الـ API الخاص بالتعامل مع الطلبات من قبل العميل أو الموصل أو الإدارة حيث تم تحسين الكود وإصلاح بعض المشاكل. وعمل إعدادات للتحكم بعدد الطلبات الراجعة لكل من العملاء والموصلين والإدارة. وجزء إدارة العروض في الـ API.

---

## 2025-02-05 - 2025-02-08
**Support Archive Images**

تم إضافة خاصية أرشفة الصور بحيث يتم أرشفة الصور والملفات القديمة بدلاً من حذفها بشكل نهائي وذلك بغرض عدم التلاعب بصور الأصناف والإعلانات أو أي ملفات أخرى في النظام. لتفعيل هذه الخاصية يجب أن تكون الإعدادات التالية مفعلة في النظام:

```plaintext
# أرشفة الصورة الرئيسية بدلاً من حذفها 
NANO_SHOP_PRODUCTS_IS_ARCHIVE_IMAGE = false
# أرشفة صور المعرض بدلاً من حذفها 
NANO_SHOP_PRODUCTS_IS_ARCHIVE_IMAGES = false
```

للتوضيح يرجى مشاهدة الفيديو والصور.

---

## 2025-02-09 - 2025-02-10
**Support Extend Orders Count Relations In States**

تحديثات في جزء إدارة المدن وطلبات كل مدينة في لوحة التحكم حيث تم إضافة إحصائيات بعدد الطلبات الجديدة في كل مدينة لكي يتمكن موظف الاستقبال من معرفة الطلبات الجديدة في كل مدينة أثناء التنقل بين إدارة المدن وذلك لتسهيل العمل. يمكن مشاهدة الفيديو لتوضيح التحديث وأهميته في النظام.

---

## 2025-02-11
**Add Address Columns to Table `nano_deliverys_deliverys`**

تحديثات في الوحدة البرمجية الخاصة بالموصلين حيث تم إضافة حقول خاصة بالعنوان على الخريطة وأقرب معلم وحقول الإحداثيات والشارع، بدلاً من الاعتماد على بيانات المستخدم المرتبطة ببيانات الموصل.

---

## 2025-02-12
**Support Address Columns in DeliverysAPI**

**Support Config And Secret Data in DeliverysAPI**

تحديثات في جزء الـ API الخاص بالموصلين حيث تم إصلاح بعض المشاكل وتم تحسين الكود بشكل كبير وتم إضافة الحقول الخاصة بالعنوان والإحداثيات. وتم عمل إعدادات للتحكم بكافة الخصائص المتعلقة بالموصلين. وتم عمل آلية لحماية البيانات كصورة الهوية وبيانات الهوية وغيرها بحيث لا يتم عرضها إلا لمالك البيانات أو مستخدمين الباك اند المصرح لهم فقط. 

وتم تفعيل البحث المتقدم في بيانات الموصلين ودعم ترتيب نتائج البحث بحسب الأوزان. وتم تفعيل خاصية تسجيل طلبات البحث في بيانات الموصلين بحيث يمكن تفعيل أو إيقاف كافة هذه الخدمات من الإعدادات. 

يمكن مشاهدة الصور والفيديوهات للتوضيح.

---

## 2025-02-13 - 2025-02-14
**Support FormBuilder API**

```plaintext
/api/v1/formbuilder/forms
```

تحديثات متنوعة في جزء الوحدة البرمجية الخاصة بإنشاء النماذج الديناميكية حيث تم عمل API خاص بهذه الوحدة للاستفادة منها بشكل أكبر في جزء الفرونت اند المعتمد على الـ API. حيث كان يقتصر عمل هذه الوحدة في جزء الفرونت اند الغير معتمد على الـ API. وتم عمل التوثيق الخاص بها مع عدة أمثلة. 

يمكن مشاهدة الفيديو والصور للتوضيح.

---

## 2025-02-15 - 2025-02-16
**Support Form Builder Logs Plus**

تحديثات في جزء النماذج الديناميكية حيث تم تحسين وإصلاح بعض المشاكل بالإضافة إلى إنشاء آلية لتعريف واجهات خاصة ببيانات كل نموذج على حدة وذلك من أجل سهولة تصفح البيانات المدخلة في كل نموذج على حدة. يمكن مشاهدة الفيديو للتوضيح.

---

## 2025-02-17
**Support Seed and Update FieldTypes on Form Builder Logs Plus**

تحديثات في جزء النماذج الديناميكية حيث تم إضافة أنواع أخرى من حقول الإدخال التي لم تكن مدعومة من قبل كـ `time`, `color_picker`, `email`, `URL`, `phone`. وتم عمل آلية لتحديث أنواع الحقول وإضافة الأنواع الجديدة بضغطة زر من الإعدادات كما هو موضح في الصور والفيديو وذلك بغرض عدم التأثير على البيانات السابقة في النسخ القديمة.

---

## 2025-02-18
**Update FormBuilder API**

تحديثات في الـ API الخاص بالنماذج الديناميكية حيث تم تحسين الكود وإضافة العلاقات الخاصة بجلب حقول النموذج وأصبح يتم إرجاع كود الـ HTML لكل حقل بشكل تلقائي مع إمكانية عدم عرض هذا الحقل من الإعدادات أو استثنائه عند جلب البيانات.

---

## 2025-02-01 - 2025-02-20
**Support Revisionable Version 2**

تم إطلاق الإصدار الثاني للوحدة البرمجية الخاصة بتسجيل التغييرات على البيانات حيث تم إضافة آلية للتحكم بالكائنات المراد تسجيل تغييراتها مع إمكانية تحديد الحقول المراد تسجيل تغييراتها وتم إضافة واجهات سهلة لمتابعة التغييرات على البيانات مع إمكانية استعادة البيانات بعدة طرق وبحسب الصلاحيات وذلك بغرض الحفاظ على البيانات الحساسة وضمان عدم التلاعب بها. يمكن مشاهدة الفيديو والصور للتوضيح.

### أبرز التحديات في إصدار الوحدة البرمجية الخاصة بتسجيل التغييرات على البيانات:

1. أن تكون الوحدة البرمجية مستقلة بشكل كامل دون الحاجة إلى تعديل كافة الكلاسات أو الموديولات الخاصة بالبيانات.
2. توفير آلية لعرض وتصفح هذه التغييرات على مستوى كل كائن أو واجهة في النظام دون التعديل المباشر على واجهات تصفح وعرض الكائنات المحقونة بهذه الوحدة.
3. توفير آلية للتحكم بهذه الوحدة بحيث تتيح تحديد الكائنات المراد مراقبة تغييرات بياناتها مع إمكانية تحديد الحقول المراد مراقبة تغييراتها.
4. أن تكون مرنة وقابلة للتطوير والصيانة وأن تستوعب أي تغييرات قد تطرأ عليها دون التأثير على بقية الوحدات البرمجية من حيث الكود أو البيانات.
5. أن تحتوي على صلاحيات بحيث لا يسمح بالاطلاع على سجلات التغييرات إلا للأشخاص المخولين لهم بذلك فقط.
6. أن تستوعب مختلف حقول البيانات وحتى الملفات والصور بحيث يتم الاحتفاظ بأي صور يتم تغييرها أو استبدالها في حال تم تفعيل مراقبة تغييراتها.

تم بحمد الله تجاوز كافة هذه التحديات في هذه الوحدة ما عدا التحدي رقم 6 تم عمل آلية له بشكل منفصل سابقاً وسيتم تجاوز هذا التحدي في المستقبل القريب ضمن هذه الوحدة.

---

## 2025-02-19 - 2025-02-21
**Update AuthAPI Support `isRequiredEmail` and `checkAllowShowOtp`**

تحديثات في جزء إدارة حسابات المستخدمين وآلية إرسال كود التحقق وذلك لحل مشاكل انتهاء اشتراك خدمة الرسائل النصية. قمنا بعمل حلول بديلة حتى تجديد الاشتراك كإرسال كود التحقق عبر البريد الإلكتروني. تم عمل الحلول البرمجية من قبل الباك اند لتفادي تحديث التطبيق في المتجر.

لتفعيل هذه الحلول البديلة يجب أن تكون هذه الإعدادات مفعلة:

```plaintext
# تستخدم في حالة أردنا فرض إدخال بريد إلكتروني صحيح للمستخدم
NANO_AUTHAPI_FRONTEND_IS_REQUIRED_EMAIL = false

# تستخدم في حال أردنا إرجاع كود التحقق للمستخدم في حال فشل الإرسال بسبب انتهاء الاشتراك 
NANO_AUTHAPI_FRONTEND_ALLOW_SHOW_OTP = false

# تستخدم هذه الخاصية لحفظ البريد بالاعتماد على رقم الهاتف لكي يمكننا إرسال كود التحقق عبر البريد 
# في حال استخدم دالة التحقق من صحة بيانات المستخدم قبل التسجيل ومن ثم بعد التحقق نرسل الكود عبر الموبايل 
# تم استخدام هذه الخاصية في تطبيق "الآن" عند إيقاف اشتراك الرسائل 
NANO_AUTHAPI_FRONTEND_IS_SAVE_EMAIL_BY_MOBILE = false
```

**Support `onSaveEmail` in VerifyCode Manager**

```plaintext
/*
* دالة خاصة بحفظ البريد الإلكتروني بالاعتماد على رقم الهاتف 
* تستخدم في حالة أردنا حفظ البريد بالاعتماد على رقم الهاتف عند دالة التحقق من صحة بيانات تسجيل الدخول 
* من أجل إمكانية إرسال كود التحقق عبر البريد 
* الحاجة لهذه الدالة في تطبيق "الآن" للتوصيل عند انتهاء اشتراك رسائل التحقق
*/
```

---

## 2025-02-22
**Update Cart Manager in `updateqty`**

تحديثات في جزء السلة بالتحديد في الـ API الخاص بزيادة أو إنقاص الكمية.

---

## 2025-02-23 - 2025-02-24
**Support Dark Mode and Update Style in Revisionable Version 2**

تحديثات في الوحدة البرمجية الخاصة بتسجيل التغييرات على البيانات حيث تم تغيير المظهر لكي يتوافق مع الجوال وتم دعم الوضع الليلي. يمكن مشاهدة الفيديو للتوضيح.

---

## 2025-02-25 - 2025-02-26
**Update Orders Manager Billing Address**

تحديثات في الوحدة البرمجية الخاصة بإدارة الطلبات حيث تم تحديث جزء أنواع الطلبات وإضافة خيارات للتحكم بعناوين الشحن والتوصيل في كل نوع من الأنواع وتم حل بعض المشاكل الثانوية كعدم ترجمة بعض الرسائل الراجعة للمستخدم وغيرها. وتم عمل تحسينات عديدة في الكود. يمكن مشاهدة الفيديو والصور للتوضيح.

---

## 2025-02-27 - 2025-03-01
**Support User Type in Revisionable Version 2**

تم ترقية الوحدة البرمجية الخاصة بتسجيل التغييرات لتدعم تعدد أنواع المستخدمين حيث كانت سابقاً تقتصر على مستخدمين لوحة التحكم فقط. يمكن مشاهدة الفيديو للتوضيح.
