# Update 2026-1

**تحديثات شهر واحد**

## 2026-01-01 - 2026-01-04  
**Support FileCleanerUnnecessaryFiles**

تطوير نظام متكامل ومتطور لتنظيف الملفات غير الضرورية في نظام نانوسوفت.

### مقدمة  
تم إطلاق تحديث متكامل لمنظف الملفات غير الضرورية، يمثل نقلة نوعية في أدوات صيانة أنظمة نانوسوفت. يحول هذا الإصدار عملية الصيانة التقليدية إلى منصة ذكية متكاملة، تجمع بين دقة الأداء وسلاسة الاستخدام من خلال واجهة محسّنة تتيح اكتشاف الملفات الزائدة وتنظيمها وحذفها بأمان كامل.

يتميز التحديث بنظام نسخ احتياطي ذكي واستعادة آمنة، مع تعزيز آلية البحث واكتشاف الملفات. كما يُقدم وضع الاختبار (Test Mode) لمحاكاة العمليات قبل التنفيذ الفعلي، ويتكامل بشكل متقدم مع صلاحيات النظام وهيكلية المجلدات. تم تصميم المنظف لضمان حماية تلقائية عبر فحوصات استباقية، وتحسين أداء الأنظمة، وتحرير مساحة التخزين، وتقليل المخاطر الأمنية.

هذا التحديث يمثل استثماراً استراتيجياً يوفر للمطورين ومسؤولي الأنظمة أدوات فعالة لتعزيز الكفاءة والموثوقية، مع الحفاظ على استقرار النظام وسهولة استخدامه.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-05 - 2026-01-06  
**Update Nano.AccountsApi And Nano.StudentsApi**

- إصلاح مشاكل البيانات المفقودة في `api/accounts/students` في الإصدار الثاني من الـAPI.
- دعم تضمين بيانات الحساب عبر العلاقة `is_include_account` في الإصدار الثاني من الـAPI.
- دعم تضمين بيانات الطالب عبر العلاقة `is_include_student` في الإصدار الثاني من الـAPI.
- تحديث توثيق Nano.AccountsApi في الإصدار الثاني من الـAPI.

تم تحديث الوحدة البرمجية الخاصة بالحسابات وبيانات الطلاب فى جزء الـAPI للتوافق مع متطلبات البنك وتم تحسين الكود وتحديثه فى العديد من الجوانب. كما تم إضافة علاقات جديدة ضمن جزء جلب رصيد الحساب كتضمين بيانات الحساب المالي أو تضمين بيانات الطالب وغيرها مع إمكانية التحكم بكافة الخصائص والميزات الجديدة من ملف الإعدادات بسهولة.  
وتم تحديث التوثيق وإضافة أمثلة توضيحية لذلك.

**أصبح بالإمكان جلب بيانات الحساب أو بيانات الشخص كالطالب مثلاً عند جلب الرصيد وذلك من خلال تمرير المتغيرات التالية:**

```json
{
  "is_include_account": "قيمة بوليانية صفر أو واحد تستخدم في حالة أردنا إرجاع بيانات الحساب مع الرصيد",
  "is_include_person": "قيمة بوليانية صفر أو واحد تستخدم في حالة أردنا إرجاع بيانات الكائن المتأثر بالعملية كالطالب أو العميل أو المستخدم الحالي",
  "is_include_student": "يعمل نفس عمل المتغير السابق وهو أكثر تخصيص لبيانات الطلاب"
}
```

**ملاحظة مهمة:** يتم التحكم في إمكانية إرجاع البيانات مع رصيد الحساب من خلال الإعدادات التالية في البيئة:

```plaintext
# السماح بجلب بيانات الحساب مع الرصيد
# null, true, false
NANO_ACCOUNTSAPI_BALANCES_IS_ALLOW_INCLUDE_ACCOUNT = null

# السماح بإرجاع بيانات الشخص عند جلب رصيده
NANO_ACCOUNTSAPI_BALANCES_IS_ALLOW_INCLUDE_PERSON = null

# السماح بإرجاع بيانات الطالب عند جلب رصيده في /api/v1/accounts/balances
NANO_ACCOUNTSAPI_BALANCES_IS_ALLOW_INCLUDE_STUDENT = null

# السماح بإرجاع بيانات الطالب عند جلب رصيده في /api/v1/accounts/students/balances
NANO_ACCOUNTSAPI_STUDENT_BALANCES_IS_ALLOW_INCLUDE_STUDENT = null
```

وتم إضافة الأمثلة التالية في التوثيق:

```html
### Example 1.1.2 get Balances student_id = 3 And Include student_data

في المثال التالي سنقوم بتضمين بيانات الطالب ضمن البيانات المرجعة وذلك من خلال تمرير البراميتر is_include_student=1 كالتالي:

POST http://localhost:8006/api/v1/accounts/students/balances?student_id=3&is_include_student=1
أو
POST http://localhost:8006/api/v1/accounts/students/balances?student_id=3&is_include_person=1

### Example 1.1.3 get Balances student_id = 3 And Include account_data and student_data

في المثال التالي سنقوم بتضمين بيانات الطالب ضمن البيانات المرجعة وذلك من خلال تمرير البراميتر is_include_student=1 وأيضاً سنقوم بتضمين بيانات الحساب المالي كالتالي:

POST http://localhost:8006/api/v1/accounts/students/balances?student_id=3&is_include_student=1&is_include_account=1
أو
POST http://localhost:8006/api/v1/accounts/students/balances?student_id=3&is_include_person=1&is_include_account=1
```

---

## 2026-01-07  
**Support Chat AI In Frontend**

تم إضافة مساعد ذكاء اصطناعي إلى واجهات الفرونت إند الخاصة بالمواقع الإلكتروني حيث يمكن التحكم بخصائص ومعلومات المساعد بشكل احترافي.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-06 - 2026-01-07  
**Support Secret Includes Relations In Orders Types**

- دعم العلاقة `order_data` في OrdersTypeTransformer.
- دعم العلاقة `load_types` في OrdersTypeTransformer.
- دعم العلاقة `vehicle_types` في OrdersTypeTransformer.
- دعم العلاقة `payment_methods` في OrdersTypeTransformer.
- دعم العلاقة `shipping_methods` في OrdersTypeTransformer.
- دعم العلاقة `address_type` في OrdersTypeTransformer.
- دعم نقطة النهاية `/api/v1/orders/orderstypes/show` في Nano.OrdersApi.
- دعم جلب أنواع الطلبات الحالية في Header Request أو User Preferences.

تم تحديث جزء أنواع الطلبات في الـAPI وتم إضافة علاقات محمية لتسهيل عملية إرجاع البيانات عند خطوات استكمال الطلب. وتم إضافة API جديد لإرجاع بيانات نوع الطلب الحالي بناءً على تمرير نوع الطلب في جزء الهيدر أو من خلال بيانات تفضيلات المستخدم الحالي. وتم تحديث التوثيق وإضافة أمثلة وشرح توضيحي للتحديثات والعلاقات الجديدة.

أصبح بالإمكان جلب بيانات نوع الطلب من خلال الطرق التالية:

```plaintext
GET /api/v1/orders/orderstypes/{id}
GET /api/v1/orders/orderstypes/{ref_type}
GET /api/v1/orders/orderstypes/show
```

العلاقات الجديدة التي تم إضافتها هي كالتالي:

#### Include Secret Relation

```json
{
  "order_data": "العلاقة الخاصة بجلب بيانات الطلب الحالي غير المكتمل بحسب النوع المحدد",
  "load_types": "العلاقة الخاصة بجلب أنواع الحمولات المدعومة في نوع الطلب الممرر",
  "vehicle_types": "العلاقة الخاصة بجلب أنواع المركبات المدعومة في نوع الطلب الممرر",
  "address_type": "العلاقة الخاصة بجلب خيارات نوع العنوان",
  "payment_methods": "العلاقة الخاصة بجلب طرق الدفع المدعومة في نوع الطلب الممرر",
  "shipping_methods": "العلاقة الخاصة بجلب طرق الشحن المدعومة في نوع الطلب الممرر"
}
```

---

## 2026-01-08 - 2026-01-11  
**Development of the Order Types System: Adding Full Control over Sender, Receiver, Invoice, and Identity Data**

تطوير نظام أنواع الطلبات: إضافة تحكم كامل في بيانات المرسل والمستلم والفاتورة والهوية.

### ملخص التحديث:
تم إجراء تحديث رئيسي على وحدة "أنواع الطلبات" لتمكين الإدارة التفصيلية والإلزامية لحقول البيانات التي يملؤها العملاء أثناء إنشاء الطلب، وذلك من خلال لوحة التحكم وواجهة برمجة التطبيقات (API).

### قائمة التغييرات التقنية:
1. إضافة خصائص تحكم جديدة في بيانات المرسل (From):
   - حقول `is_allow_*` و `is_required_*` للتحكم في:
     - اسم الشركة (`from_company`)
     - الاسم الأول (`from_firstname`)
     - الاسم الأخير / اللقب (`from_lastname`)
     - رقم الهاتف (`from_phone`)
     - البريد الإلكتروني (`from_email`)

2. إضافة خصائص تحكم جديدة في بيانات المستلم (Shipping):
   - حقول `is_allow_*` و `is_required_*` للتحكم في نفس مجموعة حقول بيانات المرسل ولكن للمستلم.

3. إضافة خصائص تحكم جديدة في بيانات الفاتورة (Billing):
   - حقول `is_allow_*` و `is_required_*` للتحكم في نفس مجموعة حقول بيانات المستلم بشكل منفصل للسماح ببيانات فوترة مختلفة عن عنوان الشحن.

4. إضافة خصائص تحكم جديدة في بيانات الهوية (Passport/ID):
   - حقول تحكم للبيانات التالية:
     - نوع الهوية (`passport_type`)
     - رقم الهوية (`passport_number`)

5. تحديث واجهة المستخدم (لوحة التحكم):
   - تم تطوير واجهات إعدادات جديدة داخل قسم "أنواع الطلبات" تسمح للمشرف بتعديل الخصائص المذكورة أعلاه بسهولة لكل نوع طلب.

6. تحديث واجهة برمجة التطبيقات (API):
   - تم تحديث API أنواع الطلبات ليشمل كافة الحقول والخصائص الجديدة للتحكم بالتالي:
     - `sender_controls` (خيارات التحكم ببيانات المرسل)
     - `receiver_controls` (خيارات التحكم ببيانات المستلم)
     - `billing_controls` (خيارات التحكم ببيانات الفاتورة في حال كانت مختلفة عن بيانات الشحن)
     - `identity_controls` (خيارات التحكم ببيانات الهوية كالجواز أو البطاقة)
   - تم ضمان التوافق مع الإصدارات السابقة حيث تكون هذه الخصائص قابلة للإرجاع كقيم افتراضية (`null` أو `false`) للطلبات القديمة.

7. تحديث التوثيق (Documentation):
   - تم تحديث التوثيق الداخلي ووثائق الـAPI بشكل كامل لتشمل شرح الخصائص الجديدة، هياكل البيانات المحدثة، وأمثلة على الطلبات والاستجابات.

تم تحديث جزء أنواع الطلبات بحيث أصبح بالإمكان التحكم بالعديد من الخصائص من خلال لوحة التحكم كبيانات المستلم والمرسل وبيانات الهوية وغيرها. حيث تم عمل الواجهات المناسبة لهذه الإعدادات في جزء أنواع الطلبات وتم إضافة هذه الخصائص والإعدادات في الـAPI التابع لأنواع الطلبات وتم تحديث التوثيق بشكل كامل.

**تم إضافة خصائص جديدة للتحكم ببيانات المرسل والمستلم وبيانات الفاتورة كاسم المرسل والمستلم وغيرها كالتالي:**

#### خيارات التحكم ببيانات المرسل

```json
{
  "is_allow_from_company": "هل يسمح للعميل بكتابة اسم الشركة المرسلة",
  "is_required_from_company": "هل اسم الشركة إلزامي",
  "is_allow_from_firstname": "هل يسمح بكتابة اسم المرسل",
  "is_required_from_firstname": "هل اسم المرسل إلزامي",
  "is_allow_from_lastname": "هل يسمح بكتابة الاسم الأخير للمرسل",
  "is_required_from_lastname": "هل الاسم الأخير أو اللقب إلزامي",
  "is_allow_from_phone": "هل يسمح بكتابة هاتف المرسل",
  "is_required_from_phone": "هل هاتف المرسل إلزامي",
  "is_allow_from_email": "هل يسمح بكتابة إيميل المرسل",
  "is_required_from_email": "هل إيميل المرسل إلزامي"
}
```

#### خيارات التحكم ببيانات المستلم

```json
{
  "is_allow_shipping_company": "يسمح بكتابة اسم الشركة المستلمة",
  "is_required_shipping_company": "هل اسم الشركة المستلمة إلزامي",
  "is_allow_shipping_firstname": "هل يسمح بكتابة اسم المستلم",
  "is_required_shipping_firstname": "هل اسم المستلم إلزامي",
  "is_allow_shipping_lastname": "هل يسمح بكتابة الاسم الأخير للمستلم",
  "is_required_shipping_lastname": "هل الاسم الأخير للمستلم إلزامي",
  "is_allow_shipping_phone": "هل يسمح بكتابة هاتف المستلم",
  "is_required_shipping_phone": "هل هاتف المستلم إلزامي",
  "is_allow_shipping_email": "هل يسمح بكتابة إيميل المستلم",
  "is_required_shipping_email": "هل إيميل المستلم إلزامي"
}
```

#### خيارات التحكم ببيانات الفاتورة في حال كانت مختلفة عن بيانات الشحن

```json
{
  "is_allow_billing_company": 1,
  "is_required_billing_company": 1,
  "is_allow_billing_firstname": 1,
  "is_required_billing_firstname": 1,
  "is_allow_billing_lastname": 1,
  "is_required_billing_lastname": 0,
  "is_allow_billing_phone": 0,
  "is_required_billing_phone": 0,
  "is_allow_billing_email": 0,
  "is_required_billing_email": 0
}
```

#### خيارات التحكم ببيانات الهوية كالجواز أو البطاقة

```json
{
  "is_allow_passport_type": "هل يسمح للعميل بتحديد نوع الهوية",
  "is_required_passport_type": "هل نوع الهوية إلزامي",
  "is_allow_passport_number": "هل يسمح للمستخدم بإدخال رقم الهوية",
  "is_required_passport_number": "هل رقم الهوية إلزامي"
}
```

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-12 - 2026-01-13  
**Update Nano.Api And Nano.FollowsApi**

- تحديث دالة `processAllIncludeFormatsUnified` في Class `FieldSelection`.
- دعم العلاقات `user_is_follow` و `user_object_follow` في `MorphToTransformer`.
- دعم العلاقات `user.user_is_follow` و `user.user_object_follow` في `FollowTransformer`.
- دعم العلاقات `followable.user_is_follow` و `followable.user_object_follow` في `FollowTransformer`.

تم تحديث جزء الـAPI وتحسين جلب بيانات العلاقات المتداخلة. وتم تحديث الوحدة البرمجية الخاصة بنظام المتابعين وتم إضافة علاقات جديدة لتسهيل معرفة هل المستخدم الحالي يتابع متابعيه أم لا. وتم تحديث التوثيق وإضافة العلاقات الجديدة إلى التوثيق.

**تم دعم العلاقات التالية عند جلب متابعي المستخدم الحالي وذلك لمعرفة هل المستخدم الحالي يتابع متابعيه أم لا:**

```json
{
  "user.user_is_follow": "ترجع قيمة بوليانية توضح هل المستخدم الحالي يتابع متابعه أم لا",
  "user.user_object_follow": "كائن علاقة المتابعة في حال كان المستخدم الحالي يتابع متابعه"
}
```

**يمكن الاطلاع على الأمثلة التالية لتوضيح العلاقات بشكل أكبر:**

#### Example 6.2.1 Get List My Follows Current User And Include user.user_is_follow

#### Example 6.2.2 Get List Him Follows Current User And Include followable.user_is_follow

---

## 2026-01-14 - 2026-01-18  
**Update Nano.Follows And Nano.FollowsApi**

- دعم التحقق من تفضيل المستخدم `is_required_accepted_follows` عند إضافة متابعة.
- دعم نقطة النهاية `api/v1/follows/follows/toggle` في الإصدار الثاني من الـAPI.
- دعم التحقق من العلاقات عند تضمينها في الإصدار الثاني من الـAPI.
- دعم العلاقة `is_followable_follows_user` في الإصدار الثاني من الـAPI.
- دعم العلاقات `is_current_user_follows_followable` و `is_current_user_follows_user` في الإصدار الثاني من الـAPI.
- دعم العلاقات `is_followable_follows_current_user` و `is_user_follows_current_user` في الإصدار الثاني من الـAPI.

تم تحديث جزء نظام المتابعين وتم تحديث الـAPI الخاص به حيث تم إضافة علاقات متنوعة وتم دعم الدالة Toggle في الـAPI. وتم كتابة التوثيق الخاص بالتحديثات مع عدة أمثلة توضيحية لكافة السيناريوهات.

### Toggle Follows

**يقوم هذا الجزء بعمل كافة الأجزاء السابقة من إضافة وتعديل وتأكيد وحذف المتابعات بدالة واحدة:**

```plaintext
DELETE /api/v1/follows/follows/toggle
```

#### Example 4.2.1 Toggle Add
#### Example 4.2.2 Toggle Delete
#### Example 4.2.3 Toggle Update
##### Example 4.2.3.1 Toggle Update is_accepted=1
##### Example 4.2.3.2 Toggle Update is_accepted=0

**توضيح للعلاقات المضافة:**

##### followable relation
**هي العلاقة الخاصة بالكائن المتأثر بالعملية أي الكائن الذي تمت عليه المتابعة أو الذي تم متابعته.**

##### user relation
**هي العلاقة الخاصة بالكائن الذي أحدث العملية أي الكائن الذي قام بالمتابعة.**

##### Other Relation

**تم دعم العلاقات التالية عند جلب متابعي المستخدم الحالي وذلك لمعرفة هل المستخدم الحالي يتابع متابعيه أم لا:**

```json
{
  "user.user_is_follow": "ترجع قيمة بوليانية توضح هل المستخدم الحالي يتابع متابعه أم لا",
  "user.user_object_follow": "كائن علاقة المتابعة في حال كان المستخدم الحالي يتابع متابعه"
}
```

**تم إضافة علاقات جديدة يمكن استخدامها في حال قام المستخدم الحالي بالاطلاع على متابعي مستخدم آخر:**

```json
{
  "is_followable_follows_user": "توضح هل الكائن في سجل المتابعة يتابع المستخدم في سجل المتابعة",
  "is_current_user_follows_followable": "توضح هذه العلاقة هل المستخدم الحالي يتابع الكائن في سجل المتابعة",
  "is_current_user_follows_user": "توضح هذه العلاقة هل المستخدم الحالي يتابع المستخدم في سجل العلاقة",
  "is_followable_follows_current_user": "توضح هل الكائن في سجل المتابعة يتابع المستخدم الحالي أم لا",
  "is_user_follows_current_user": "توضح هل المستخدم في سجل المتابعة يتابع المستخدم الحالي"
}
```

**أماكن استخدام العلاقات كالتالي:**

```json
{
  "is_current_user_follows_followable": "عند جلب قائمة بالأشخاص الذين يتابعهم مستخدم معين ونريد أن نعرف هل المستخدم الحالي يتابع هؤلاء الأشخاص أم لا",
  "is_current_user_follows_user": "عند جلب قائمة متابعي مستخدم معين ونريد أن نعرف هل المستخدم الحالي يتابع هؤلاء الأشخاص أم لا",
  "is_followable_follows_current_user": "عند جلب قائمة بالأشخاص الذين يتابعهم مستخدم معين ونريد أن نعرف هل هؤلاء الأشخاص يتابعون المستخدم الحالي أم لا",
  "is_user_follows_current_user": "عند جلب قائمة متابعي مستخدم معين ونريد أن نعرف هل هؤلاء الأشخاص يتابعون المستخدم الحالي أم لا"
}
```

**الأمثلة التوضيحية المضافة للتعامل مع نظام المتابعين في profile معين هي كالتالي:**

#### Example 6.2.4 get List Has Follows Other Object And include=user

في المثال التالي سنقوم بجلب متابعي كائن معين كالتالي:

```plaintext
GET http://localhost:8006/api/v1/follows/follows?isUser=0&him=0&my=0&object_type=Backend\Models\User&object_id=24&include=user
```

#### Example 6.2.5 get List Him Follows Other Object And include=followable

في المثال التالي سنقوم بجلب قائمة بالأشخاص الذين يتابعهم كائن معين كالتالي:

```plaintext
GET http://localhost:8006/api/v1/follows/follows?isUser=0&him=0&my=0&user_type=Backend\Models\User&user_id=24&include=followable
```

#### Example 6.2.6 get List Has Follows Other Object And include=is_current_user_follows_user,is_user_follows_current_user

في المثال التالي سنقوم بجلب متابعي كائن معين مع فحص هل المستخدم الحالي يتابع هؤلاء الأشخاص أم لا وفحص هل هؤلاء الأشخاص يتابعون المستخدم الحالي أم لا كالتالي:

```plaintext
GET http://localhost:8006/api/v1/follows/follows?isUser=0&him=0&my=0&object_type=Backend\Models\User&object_id=24&include=user,is_current_user_follows_user,is_user_follows_current_user
```

#### Example 6.2.7 get List Him Follows Other Object And include=is_current_user_follows_followable,is_followable_follows_current_user

في المثال التالي سنقوم بجلب قائمة بالأشخاص الذين يتابعهم كائن معين مع فحص هل المستخدم الحالي يتابع هؤلاء الأشخاص وهل يتابع الأشخاص المستخدم الحالي كالتالي:

```plaintext
GET http://localhost:8006/api/v1/follows/follows?isUser=0&him=0&my=0&user_type=Backend\Models\User&user_id=24&include=followable,is_current_user_follows_followable,is_followable_follows_current_user
```

---

## 2026-01-19 - 2026-01-20  
**Support image and images in Options And OptionsValue And ProductsOptions And ProductsOptionsValue**

- دعم `image` و `images` في Options و OptionsValue و ProductsOptions و ProductsOptionsValue.
- دعم Filter Has ProductsOptions و ProductsOptionsValue وغيرها في واجهة التحكم (Backend Interface).

تم تحديث الوحدة البرمجية الخاصة بإدارة الأصناف حيث تم تحسين واجهة إدارة الأصناف وإضافة فلاتر خاصة بفلترة الأصناف حسب الحقول والخصائص الإضافية. وتم دعم إمكانية إضافة صور لكل من الحقول والخصائص الإضافية وتم تحديث الـAPI المتأثر بذلك.  
الفلاتر التي تم إضافتها إلى الأصناف هي كالتالي:

```json
{
  "is_has_product_options": "لديه خصائص إضافية",
  "is_not_has_product_options": "ليس لديه خصائص إضافية",
  "is_has_product_options_value": "لديه قيم خصائص إضافية",
  "is_not_has_product_options_value": "ليس لديه قيم خصائص إضافية",
  "is_toggel_any_product_options": "لديه أي خصائص أو قيم خصائص إضافية",
  "is_has_any_product_options": "لديه أي خصائص أو قيم خصائص إضافية",
  "is_not_has_any_product_options": "ليس لديه أي قيم أو خصائص إضافية"
}
```

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-21  
**Support new and returning customer orders report statistics**

تحديثات في التقارير الإحصائية والرسومية حيث تم تحسين جزء لوحة التحكم بحيث يتم تهيئة اللوحة بتقارير متنوعة بدلاً من ظهورها فارغة لأول مرة مع إمكانية التراجع إلى الإعدادات الافتراضية للوحة. وتم إضافة التقارير التالية:
- تقارير عملاء لأول مرة يقومون بالشراء.
- تقرير عملاء عاودوا الشراء.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-22 - 2026-01-23  
**Update Tss.Notes And Update formwidgets Notes**

- تم التحديث للتتوافق مع الإصدارات v2.x و v3.x و v4.x.
- تم إضافة دعم للوضع الداكن (dark mode) لكافة الإصدارات V4.x color presets.

تم تحديث الوحدة البرمجية الخاصة بنظام الملاحظات العام حيث تم دعم كافة إصدارات النظام من الإصدار الأول إلى الإصدار الرابع V4.  
وتم دعم تنسيقات الوضع الداكن لكافة الإصدارات وتم تحديث الكود ليتوافق مع متطلبات كل إصدار.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-24  
**Support currencys_id_symbol Column In Products API Version 2**

**Nano.ShopApi الإصدار 1.1.28:**
- دعم حقل `currencys_id_symbol` في Products API الإصدار الثاني.
- دعم `is_set_coupon` في Step coupon في Checkout2 API الإصدار الثاني.
- دعم تضمين العلاقات (`country`, `state`, `directorate`) في AddresTransformer API.

تم تحديث الـAPI الخاص بالأصناف ووحدات الأصناف حيث تم إضافة حقل جديد باسم `currencys_id_symbol` إلى البيانات المرجعة خاص برمز العملة إلى جانب اسم العملة الموجود سابقاً دون الحاجة إلى تضمين العلاقة الخاصة ببيانات العملة. وتم إضافة باراميتر جديد خطوة إدخال الكوبون باسم `is_set_coupon` يستخدم في حال أردنا إدخال الكوبون قبل إدخال بيانات الشحن والبيانات الأساسية في خطوات استكمال الطلب.  
وتم تحديث الـAPI الخاص بالعناوين ليدعم العلاقات الخاصة بالدولة والمدينة والمنطقة.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-15 - 2026-01-27  
**Support Units Conversion System v2.0: Smart Context Validation & Multi-language Support**

### ملخص تحديثات نظام تحويل الوحدات الشامل

#### نظرة عامة
تم تطوير نظام متكامل لتحويل الوحدات يدعم 16 نوعاً رئيسياً من الوحدات بما في ذلك الطول، الوزن، الحجم، المساحة، درجات الحرارة، الوقت، السرعة، الضغط، الطاقة، القدرة، البيانات، الزوايا، والكميات بأنواعها المختلفة.

#### المكونات الرئيسية

1. **UnitType** - تعريف أنواع الوحدات:
   - إدارة ثوابت أنواع الوحدات (16 نوعاً رئيسياً + 5 أنواع فرعية للكميات).
   - دوال للحصول على تسميات مترجمة (عربي/إنجليزي).
   - التحقق من صحة الأنواع واسترجاع الأنواع الرئيسية.

2. **UnitNameHelper** - مساعد أسماء الوحدات:
   - مركز ترجمة مركزي للوحدات بلغات متعددة.
   - دوال للبحث والتصنيف والحصول على معلومات الوحدات.
   - دعم خيارات HTML select عادية ومصنفة.

3. **UnitConverter** - المحول الأساسي:
   - إجراء التحويلات بين جميع الوحدات المدعومة.
   - دعم الدقة العشرية (حتى 8 منازل).
   - تحويلات دفعة واحدة للكفاءة.
   - التحقق من توافق الوحدات.

4. **UnitContextValidator** - مدقق السياق:
   - التحقق من منطقية تحويل وحدات الكميات.
   - قواعد محددة للتحويل بين السياقات المختلفة.
   - منع التحويلات غير المنطقية (مثل درزن إلى ريم).

5. **SmartUnitConverter** - محول ذكي:
   - تحويل آمن مع معالجة الأخطاء تلقائياً.
   - إرجاع تحذيرات للتحويلات المشكوك فيها.
   - مناسب للتطبيقات التي تتطلب موثوقية عالية.

6. **UnitFactory و Unit** - نمط المصنع:
   - إنشاء كائنات Unit قابلة لإعادة الاستخدام.
   - كبسولة خصائص الوحدات ووظائفها.
   - تسهيل الاختبار والتوسع.

7. **واجهات العرض**:
   - **UnitsInformation**: عرض معلومات الوحدات بتنسيق HTML.
   - **ConversionForm**: إنشاء نماذج تحويل جاهزة.
   - دعم Bootstrap للتصميم المتجاوب.

#### المميزات التقنية

✅ **الدعم الشامل:**
- 16 نوع وحدة رئيسي.
- 80+ وحدة قياسية.
- دعم درجات الحرارة (C, F, K).
- وحدات الكميات مع السياقات المنطقية.

✅ **الدقة والموثوقية:**
- دقة تحويل عالية (8 منازل عشرية).
- تحقق من صحة المدخلات.
- معالجة شاملة للأخطاء.
- تحويلات ذكية مع التحقق من المنطقية.

✅ **سهولة الاستخدام:**
- واجهة برمجية واضحة وموحدة.
- دعم متعدد اللغات (عربي/إنجليزي).
- أمثلة توضيحية شاملة.
- توثيق مفصل لكل دالة.

✅ **القابلية للتوسع:**
- تصميم معياري يسهل إضافة وحدات جديدة.
- دعم لإضافة لغات إضافية.
- نمط مصنع (Factory Pattern) لإنشاء الكائنات.
- فصل واضح بين المكونات.

#### أمثلة الاستخدام

##### التحويل الأساسي
```php
$result = UnitConverter::convert(1, 'm', 'cm', 2); // 100.00
```

##### التحويل الآمن
```php
$result = SmartUnitConverter::safeConvert(1, 'dozen', 'box', 2);
```

##### الحصول على التسميات
```php
$label = UnitNameHelper::getUnitLabel('m', 'ar'); // 'متر'
```

##### إنشاء واجهة المستخدم
```php
$form = new ConversionForm();
echo $form->renderAdvancedForm();
```

#### أفضل الممارسات الموصى بها
1. **استخدم SmartUnitConverter** للتحويلات في التطبيقات الإنتاجية.
2. **استخدم UnitContextValidator** للتحقق من منطقية تحويلات الكميات.
3. **استخدم UnitFactory** لإنشاء كائنات Unit بدلاً من الإنشاء المباشر.
4. **تجنب التحويلات المباشرة** بين أنواع وحدات مختلفة.
5. **استخدم معالجة الأخطاء** حول جميع استدعاءات التحويل.

#### التحديثات المستقبلية المقترحة
1. إضافة المزيد من وحدات التخصص (طبية، علمية، إلخ).
2. دعم التحويلات المعقدة (وحدات مركبة).
3. التكامل مع أنظمة إدارة المخزون الحالية.

---

**ملاحظة**: النظام جاهز للتكامل مع أنظمة إدارة المخزون، الحسابات، والتطبيقات العلمية والهندسية. تم تصميمه ليكون خفيف الوزن، سريع الأداء، وسهل الصيانة.

```html
رابط واجهات نظام الوحدات العام:
https://account.now-ye.com/nano/helpers/units
```

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-26 - 2026-01-27  
**Support Nano.Api Settings Interface In Backend**

تحديث جزء نظام الـAPI وتم دعم واجهات التحكم بإعدادات هذا الجزء بشكل كامل من خلال لوحة التحكم في الباك إند حيث كان سابقاً يتم التحكم بإعدادات هذا الجزء من خلال الملفات فقط.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-28 - 2026-01-29  
**Support Nano.AuthApi Settings Interface In Backend**

تم تحديث جزء نظام المصادقة في الـAPI وتم دعم واجهات التحكم بإعدادات هذا الجزء بشكل كامل من خلال لوحة التحكم في الباك إند حيث كان سابقاً يتم التحكم بإعدادات هذا الجزء من خلال الملفات فقط.

يمكن مشاهدة الفيديو للتوضيح.

---

## 2026-01-29 - 2026-01-31  
**Update Nano UserPlus and BackendUserPlus And AuthApi**

- إضافة أعمدة `business_number` و `vat_number` و `language` و `nationality` إلى ملف تعريف مستخدم الفرونت إند.
  - `builder_table_add_business_columns_to_frontend_users_table.php`
- إضافة أعمدة `business_number` و `vat_number` و `language` و `nationality` إلى ملف تعريف مستخدم الباك إند.
  - `builder_table_add_business_columns_to_backend_users_table.php`
- دعم أعمدة `business_number` و `vat_number` و `language` و `nationality` في ملف تعريف المستخدم في AuthApi.

تم تحديث جزء إدارة المستخدمين وتم إضافة حقول جديدة خاصة برقم السجل التجاري ورقم الضريبة واللغات والجنسية. وتم دعم أنواع جديدة لحسابات مستخدمي الفرونت إند حيث أصبح بالإمكان تحديد نوع الحساب عند إنشاء الحساب هل حساب فرد أو حساب منشأة أو حساب عامل توصيل أو حساب عمل حر وغيرها. وتم تحديث واجهات المستخدم في جزء لوحة التحكم لدعم الحقول المضافة وتم إنشاء فلاتر لفلترة المستخدمين حسب الحقول المضافة وغيرها من التحسينات المختلفة.

يمكن مشاهدة الفيديو للتوضيح.
